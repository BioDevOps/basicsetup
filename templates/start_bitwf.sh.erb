#!/bin/bash
cd /usr/local/galaxy-bitwf/scripts
/usr/bin/docker run --rm \
 -v $PWD/job_conf.xml.local:/etc/galaxy/job_conf.xml \
 -p 9002:9002 -p 80:80 \
 -e SGE_ROOT=/var/lib/gridengine \
 -e "NONUSE=nodejs,reports,proftp,slurmctld,slurmd,condor" \
 -e GALAXY_UID=900 \
 -e GALAXY_POSTGRES_UID=900 \
 -v $PWD:$PWD \
 -v $PWD/2790.diff:/galaxy-central/2790.diff \
 -v $PWD/../export:/export \
 -v $PWD/../data:/data:ro \
 -v $PWD/setup_inside_container.sh:/galaxy-central/setup_inside_container.sh \
 --name=galaxy_bitwf_1.3.0  \
 myoshimura080822/galaxy_in_docker_bitwf:160607 /galaxy-central/setup_inside_container.sh
